<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Playground</title>
</head>
<body>

<audio
  is="modern-audio"
  src="./test/assets/audio.mp3"
  controls
  pan="0"
  fade-in="10"
  fade-out="108"
>
</audio>

<canvas></canvas>

<div>
  <button id="bar-chart">BarChart</button>
</div>

<div>
  <button id="download">Download</button>
</div>

<script type="module">
  import { ModernAudio } from './src'

  ModernAudio.install()
</script>

<script type="module" async>
  import { createAudio, createOfflineAudioContext, downloadOfflineAudio } from './src'

  const context = createOfflineAudioContext(10)
  const audio = createAudio('./test/assets/audio.mp3', context)

  audio.load()

  document.querySelector('#bar-chart').onclick = () => {
    audio.renderBarChart(document.querySelector('canvas'))
  }

  document.querySelector('#download').onclick = () => {
    audio.start()
    downloadOfflineAudio(context)
  }
</script>
</body>
</html>
